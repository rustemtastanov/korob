function number_format(t,a,n,e){var o,r,d,i,s;return isNaN(a=Math.abs(a))&&(a=2),null==n&&(n=","),null==e&&(e="."),(r=(o=parseInt(t=(+t||0).toFixed(a))+"").length)>3?r%=3:r=0,s=r?o.substr(0,r)+e:"",d=o.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+e),".00"==(i=a?n+Math.abs(t-o).toFixed(a).replace(/-/,0).slice(2):"")&&(i=""),s+d+i}!function(){var t=$('[data-form="search"]');if(!t.length)return!1;var a=t.find(".form-control"),n={desktop:a.data("placeholder-desktop"),phone:a.data("placeholder-phone")},e=function(){a.attr("placeholder","undefined"!=typeof DEVICE?n[DEVICE]:n.desktop)};e(),$(document).bind("eventDevice",(function(){e()}))}(),function(){var t=$('[data-form="order"]');if(!t.length)return!1;t.find("[data-inputmask]").inputmask({showMaskOnHover:!1,placeholder:"_"})}(),function(){var t=$('[data-form="filters"]');if(!t.length)return!1;var a=$(".modal--filters"),n=t.find('[name="sort"]');t.find('[data-button="sort"]').on("click",(function(t){var a=$(this);"desc"==n.val()?(n.val("asc"),a.removeClass("sort--desc").addClass("sort--asc")):(n.val("desc"),a.removeClass("sort--asc").addClass("sort--desc")),t.preventDefault()})),a.on("shown.bs.modal",(function(){})).on("hidden.bs.modal",(function(){})),t.find('[data-button="apply"]').on("click",(function(){alert("видимо должна страница перезагрузиться с новыми параметрами")})).end().find('[data-button="reset"]').on("click",(function(){$(this).parents(".modal").find('[type="checkbox"]').prop("checked",!1)}))}(),function(){var t=$('[data-form="phone"]');if(!t.length)return!1;t.find("[data-inputmask]").inputmask({showMaskOnHover:!1,placeholder:"_"})}(),function(){var t=$('[data-role="cart"]');if(!t.length)return!1;var a=t.find('[data-role="item"]'),n=t.find('[data-output="result"]'),e=(t.find('[name="code"]'),function(){var t=0;a.each((function(){var a=$(this),n=a.find('[name="count"]'),e=parseInt(a.find('[name="price"]').val(),10)*parseInt(n.val(),10);t+=e,a.find('[data-output="amount"]').text(number_format(e,2,"."," "))})),n.text(number_format(t,2,"."," "))});e(),a.each((function(){var t=$(this),a=t.find('[name="count"]'),n=t.find('[data-button="minus"]'),o=t.find('[data-button="plus"]'),r=t.find('[data-output="count"]'),d=(parseInt(t.find('[name="price"]').val(),10),parseInt(a.val(),10)),i=parseInt(a.data("min"),10),s=parseInt(a.data("max"),10),c=function(){n.attr("disabled",d==i),o.attr("disabled",d==s)};n.on("click",(function(){--d<=i&&(d=i),a.val(d),r.text(d),c(),e()})),o.on("click",(function(){++d>=s&&(d=s),a.val(d),r.text(d),c(),e()})),c()}))}(),function(){var t=$('[data-role="checkout"]');if(!t.length)return!1;t.find("[data-inputmask]").inputmask({showMaskOnHover:!1,placeholder:"_"})}();